{"version":3,"sources":["../src/index.ts","../src/cli.ts"],"sourcesContent":["#!/usr/bin/env node\r\nimport path from \"path\";\r\nimport fs from \"fs-extra\";\r\nimport { runCli } from \"./cli.js\";\r\n\r\nconst main = async () => {\r\n  const currentDirName = runCli();\r\n  // Write name to package.json\r\n  const pkgJson = fs.readJSONSync(path.join(currentDirName, \"package.json\"));\r\n  pkgJson.scripts = {\r\n    ...pkgJson.scripts,\r\n    litebook: \"vite serve .litebook\",\r\n    \"litebook:build\": \"vite build .litebook\",\r\n  };\r\n  fs.writeJSONSync(path.join(currentDirName, \"package.json\"), pkgJson, {\r\n    spaces: 2,\r\n  });\r\n\r\n  process.exit(0);\r\n};\r\n\r\nmain().catch((err) => {\r\n  process.stderr.write(\"Aborting installation...\");\r\n  if (err instanceof Error) {\r\n    process.stderr.write(JSON.stringify(err));\r\n  } else {\r\n    process.stderr.write(\r\n      \"An unknown error has occurred. Please open an issue on github with the below:\"\r\n    );\r\n    process.stdout.write(err);\r\n  }\r\n  process.exit(1);\r\n});\r\n","import { Command } from \"commander\";\r\nimport path from \"path\";\r\n\r\nconst DEFAULT_APP_NAME = \"litebook\";\r\n\r\nexport const runCli = () => {\r\n  const program = new Command().name(DEFAULT_APP_NAME);\r\n\r\n  program\r\n    .description(\"A CLI for initializing litebook in your project\")\r\n    .addHelpText(\r\n      \"afterAll\",\r\n      `\\n Litebook initialized. Use npm run litebook to start dev server. And npm run litebook:build to build it \\n`\r\n    );\r\n\r\n  return path.basename(path.resolve(process.cwd()));\r\n};\r\n"],"mappings":";AACA,OAAOA,MAAU,OACjB,OAAOC,MAAQ,WCFf,OAAS,WAAAC,MAAe,YACxB,OAAOC,MAAU,OAEjB,IAAMC,EAAmB,WAEZC,EAAS,KACJ,IAAIH,EAAQ,EAAE,KAAKE,CAAgB,EAGhD,YAAY,iDAAiD,EAC7D,YACC,WACA;AAAA;AAAA,CACF,EAEKD,EAAK,SAASA,EAAK,QAAQ,QAAQ,IAAI,CAAC,CAAC,GDVlD,IAAMG,EAAO,SAAY,CACvB,IAAMC,EAAiBC,EAAO,EAExBC,EAAUC,EAAG,aAAaC,EAAK,KAAKJ,EAAgB,cAAc,CAAC,EACzEE,EAAQ,QAAU,CAChB,GAAGA,EAAQ,QACX,SAAU,uBACV,iBAAkB,sBACpB,EACAC,EAAG,cAAcC,EAAK,KAAKJ,EAAgB,cAAc,EAAGE,EAAS,CACnE,OAAQ,CACV,CAAC,EAED,QAAQ,KAAK,CAAC,CAChB,EAEAH,EAAK,EAAE,MAAOM,GAAQ,CACpB,QAAQ,OAAO,MAAM,0BAA0B,EAC3CA,aAAe,MACjB,QAAQ,OAAO,MAAM,KAAK,UAAUA,CAAG,CAAC,GAExC,QAAQ,OAAO,MACb,+EACF,EACA,QAAQ,OAAO,MAAMA,CAAG,GAE1B,QAAQ,KAAK,CAAC,CAChB,CAAC","names":["path","fs","Command","path","DEFAULT_APP_NAME","runCli","main","currentDirName","runCli","pkgJson","fs","path","err"]}